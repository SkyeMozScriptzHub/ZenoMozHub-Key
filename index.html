<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>ZenoMozHub - Get Key</title>
<link rel="stylesheet" href="css/style.css">
</head>
<body>

<!-- XP HUD -->
<div id="level-hud">
  <div id="level-label">LVL <span id="level-display">1</span></div>
  <div id="xp-bar"><div id="xp-fill"></div></div>
  <div id="xp-text">0 / 100 XP</div>
</div>

<!-- Particles -->
<div id="particles-js"></div>

<!-- Key GUI -->
<div id="mainGUI">
  <h1>ğŸ‰ Congratulations! ğŸ‰</h1>
  <div class="textbox" id="keyText">á˜”á—´á‘Oğ’ğ’ğ’›ğ˜©ğ˜‚ğ˜£2025</div>
  <button class="btn" id="copyBtn">ğŸ”‘ Get Key ğŸ”‘</button>
  <button class="btn" id="backBtn" style="display:none;">Back</button>
</div>

<!-- Sounds -->
<audio id="clickSound" src="sounds/click.mp3"></audio>
<audio id="claimSound" src="sounds/claim.mp3"></audio>

<script src="https://cdn.jsdelivr.net/particles.js/2.0.0/particles.min.js"></script>
<script>
/* --- Particles --- */
particlesJS("particles-js", {
  "particles": {
    "number": { "value": 120 },
    "color": { "value": "#ff3333" },
    "shape": { "type": "circle" },
    "opacity": { "value": 0.5 },
    "size": { "value": 3 },
    "line_linked": { "enable": true, "distance": 150, "color": "#ff3333", "opacity": 0.4, "width": 1 },
    "move": { "enable": true, "speed": 1.5 }
  },
  "interactivity": { "events": { "onhover": { "enable": true, "mode": "repulse" } } },
  "retina_detect": true
});

/* --- XP system --- */
let xp = parseInt(localStorage.getItem("zmh_xp")) || 0;
let level = parseInt(localStorage.getItem("zmh_level")) || 1;
const levelDisplay = document.getElementById("level-display");
const xpFill = document.getElementById("xp-fill");
const xpText = document.getElementById("xp-text");

function xpNeeded(lvl) { return 100 + (lvl-1)*20; }
function updateHUD() {
  let needed = xpNeeded(level);
  while(xp>=needed) { xp-=needed; level++; needed=xpNeeded(level); }
  levelDisplay.textContent = level;
  xpFill.style.width = Math.floor((xp/xpNeeded(level))*100)+'%';
  xpText.textContent = xp+' / '+xpNeeded(level)+' XP';
  localStorage.setItem("zmh_xp", xp); 
  localStorage.setItem("zmh_level", level);
}
updateHUD();

/* --- Clipboard / Key GUI --- */
const copyBtn = document.getElementById("copyBtn");
const backBtn = document.getElementById("backBtn");
const keyText = document.getElementById("keyText").innerText;
const clickSound = document.getElementById("clickSound");
const claimSound = document.getElementById("claimSound");

function playSound(audio) { audio.currentTime=0; audio.play(); }

copyBtn.addEventListener("click",()=>{
  playSound(clickSound);
  navigator.clipboard.writeText(keyText).then(()=>{
    copyBtn.textContent="Copied! â˜‘";
    copyBtn.disabled=true;
    backBtn.style.display="block";
    xp+=10;
    playSound(claimSound);
    updateHUD();
  });
});

backBtn.addEventListener("click",()=>{ window.open("https://hub.vercel.app","_blank"); });

/* --- Sync XP across tabs --- */
window.addEventListener("storage", e=>{
  if(e.key==="zmh_xp" || e.key==="zmh_level"){ 
    xp=parseInt(localStorage.getItem("zmh_xp"))||0; 
    level=parseInt(localStorage.getItem("zmh_level"))||1; 
    updateHUD(); 
  }
});
</script>

</body>
</html>
