<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>ZenoMozHub - Get Key</title>

<!-- Fonts & Particles -->
<link href="https://fonts.googleapis.com/css2?family=Orbitron:wght@500;700&display=swap" rel="stylesheet">
<script src="https://cdn.jsdelivr.net/particles.js/2.0.0/particles.min.js"></script>

<style>
  /* Reset & Base */
  * { margin:0; padding:0; box-sizing:border-box; }
  html, body {
    height:100%; width:100%;
    font-family: 'Orbitron', Arial, sans-serif;
    background:#111;
    color:#fff;
    overflow:hidden;
    display:flex;
    justify-content:center;
    align-items:center;
    flex-direction:column;
  }

  /* Particles background */
  #particles-js { position:fixed; inset:0; z-index:0; }

  h1 { font-size:3rem; margin-bottom:20px; text-align:center; color:#ff3333; text-shadow:0 0 12px rgba(255,51,51,0.6); }

  .textbox {
    background:#fff; color:#000;
    font-size:2rem; padding:20px 40px;
    border-radius:20px; margin-bottom:20px;
    user-select:text; font-weight:bold; text-align:center;
  }

  .btn {
    background:#ff3333; color:#fff; font-size:1.5rem;
    padding:12px 40px; margin:5px;
    border:none; border-radius:40px;
    cursor:pointer; transition:0.3s; z-index:1;
  }
  .btn:hover { background:#ff5555; }
  .btn:disabled { background:gray; cursor:default; }

  #mainGUI { display:flex; flex-direction:column; align-items:center; z-index:2; }

  /* XP display */
  #xpHUD {
    position:fixed; top:12px; left:12px;
    background:rgba(0,0,0,0.6); padding:10px 14px;
    border-radius:10px; font-family: monospace; color:#fff;
    z-index:9999; width:200px; text-align:center;
    box-shadow:0 0 8px rgba(255,0,0,0.4);
  }
  #xp-bar { background: rgba(255,255,255,0.12); border-radius:6px; height:12px; width:100%; overflow:hidden; margin:8px 0; }
  #xp-fill { background: linear-gradient(90deg,#ff4040,#ff9900); width:0%; height:100%; transition:width 0.3s ease; }
</style>
</head>
<body>

<div id="particles-js"></div>

<!-- XP HUD -->
<div id="xpHUD">
  XP: <span id="xpDisplay">0</span> / <span id="xpMax">100</span>
  <div id="xp-bar"><div id="xp-fill"></div></div>
</div>

<!-- Main GUI -->
<div id="mainGUI">
  <h1>🎉 𝐂𝐨𝐧𝐠𝐫𝐚𝐭𝐮𝐥𝐚𝐭𝐢𝐨𝐧𝐬! 🎉</h1>
  <div class="textbox" id="keyText">ᘔᗴᑎO𝒎𝒐𝒛𝘩𝘂𝘣2025</div>
  <button class="btn" id="copyBtn">🔑 𝐆𝐞𝐭 𝐤𝐞𝐲 🔑</button>
  <button class="btn" id="backBtn" style="display:none;">Back</button>
</div>

<!-- Sounds -->
<audio id="copySound" src="click.mp3" preload="auto"></audio>
<audio id="claimSound" src="claim.mp3" preload="auto"></audio>

<script>
/* ======== PARTICLES.JS ======== */
particlesJS("particles-js", {
  "particles": {
    "number": { "value": 120 },
    "color": { "value": "#ff3333" },
    "shape": { "type": "circle" },
    "opacity": { "value":0.5, "random":true },
    "size": { "value":3, "random":true },
    "line_linked": { "enable":true, "distance":120, "color":"#ff3333", "opacity":0.3, "width":1 },
    "move": { "enable":true, "speed":1.5 }
  },
  "interactivity": { "events": { "onhover": { "enable": true, "mode":"repulse" } } },
  "retina_detect": true
});

/* ======== COPY KEY & BACK ======== */
const copyBtn = document.getElementById("copyBtn");
const backBtn = document.getElementById("backBtn");
const keyText = document.getElementById("keyText").innerText;
const copySound = document.getElementById("copySound");
const claimSound = document.getElementById("claimSound");

function playSound(sound) { sound.currentTime = 0; sound.play(); }

copyBtn.addEventListener("click", () => {
  playSound(copySound);
  navigator.clipboard.writeText(keyText).then(() => {
    copyBtn.textContent = "Copied! ☑";
    copyBtn.disabled = true;
    backBtn.style.display = "block";
    // Give XP for getting the key
    addXP(10);
    playSound(claimSound);
  });
});

backBtn.addEventListener("click", () => {
  window.open("https://official-amber.vercel.app/", "_blank");
});

/* ======== XP SYSTEM (SYNC WITH MAIN HUB) ======== */
const xpDisplay = document.getElementById("xpDisplay");
const xpMax = document.getElementById("xpMax");
const xpFill = document.getElementById("xp-fill");

// Load XP from localStorage (shared by domain)
let xp = parseInt(localStorage.getItem("zmh_xp")) || 0;
let level = parseInt(localStorage.getItem("zmh_level")) || 1;
const maxLevel = 10000;

function xpNeeded(lvl) { return 100 + (lvl-1)*20; }

function saveXP() {
  localStorage.setItem("zmh_xp", xp);
  localStorage.setItem("zmh_level", level);
}

function updateHUD() {
  let needed = xpNeeded(level);
  while(xp >= needed && level<maxLevel){ xp -= needed; level++; needed = xpNeeded(level); }
  if(level>=maxLevel){ level=maxLevel; xp=Math.min(xp, xpNeeded(level)); }

  xpDisplay.textContent = xp;
  xpMax.textContent = xpNeeded(level);
  xpFill.style.width = Math.floor((xp/xpNeeded(level))*100) + "%";
  saveXP();
}

function addXP(amount){
  xp += amount;
  updateHUD();
}

// Update HUD on load
updateHUD();
</script>
</body>
</html>
